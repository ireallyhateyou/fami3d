<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>fami3D</title>
  <script src="https://unpkg.com/jsnes/dist/jsnes.min.js"></script>
  <script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.152.2/examples/js/controls/OrbitControls.js"></script>
  <style>
    body { background: #222; color: #fff; font-family: sans-serif; }
    #nes-canvas { background: #000; image-rendering: pixelated; }
  </style>
</head>
<body>
  <input type="file" id="romfile" accept=".nes" style="position:relative; z-index:1; pointer-events:auto;" />
  <div id="canvas-row" style="display:flex; gap:12px; align-items:flex-start; margin-bottom:12px;">
    <div style="display:flex; flex-direction:column; align-items:center;">
      <canvas id="bg-canvas" width="256" height="240" style="border:1px solid #444; background:#000;"></canvas>
      <span style="color:#aaa; font-size:13px; margin-top:4px;">Background</span>
    </div>
    <div style="display:flex; flex-direction:column; align-items:center;">
      <canvas id="sprite-canvas" width="256" height="240" style="border:1px solid #444; background:transparent;"></canvas>
      <span style="color:#aaa; font-size:13px; margin-top:4px;">Sprites (Front)</span>
    </div>
    <div style="display:flex; flex-direction:column; align-items:center;">
      <canvas id="sprite-behind-canvas" width="256" height="240" style="border:1px solid #444; background:transparent;"></canvas>
      <span style="color:#aaa; font-size:13px; margin-top:4px;">Sprites (Behind BG)</span>
    </div>
    <div style="display:flex; flex-direction:column; align-items:center;">
      <canvas id="nes-canvas" width="256" height="240" style="border:1px solid #444;"></canvas>
      <span style="color:#aaa; font-size:13px; margin-top:4px;">NES Output</span>
    </div>
  </div>
  <button id="startBtn" disabled style="position:relative; z-index:1; pointer-events:auto;">Start</button>
  <script src="script.js"></script>
</body>
</html>
